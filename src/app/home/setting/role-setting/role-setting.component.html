<div class="role">
  <div class="top">
    <nz-input-group style="width: 200px;" [nzPrefix]="prefixTemplateUser">
      <input type="text" nzSize="large" [(ngModel)]="name" nz-input placeholder="搜索角色" (keyup.enter)="searchRole()" />
    </nz-input-group>
    <ng-template #prefixTemplateUser><i nz-icon nzType="search" nzTheme="outline"></i></ng-template>
    <button nz-button nzType="primary" (click)="addRole()" nzShape="round">新建角色</button>
  </div>
  <table>
    <thead>
      <tr>
        <th>角色名称</th>
        <th>有效性</th>
        <th>描述</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of roleList;">
        <td width="20%">{{ item?.name }}</td>
        <td width="10%">
          <nz-badge *ngIf="item?.valid" [nzStatus]="'success'" nzText="有效"></nz-badge>
          <nz-badge *ngIf="!item?.valid" [nzStatus]="'default'" nzText="无效"></nz-badge>
        </td>
        <td width="50%">{{ item?.description }}</td>
        <td width="20%">
          <button nz-button nzType="primary" (click)="addRole(item)">修改</button>
          <button nz-button nzType="default" (click)="setAuthority(item)">配置权限</button>
          <button nz-button nzType="danger" (click)="deleteRole(item._id, item.name, $event)">删除</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
